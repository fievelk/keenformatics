---
layout: post
title: How to solve Dell laptops fan issues in Ubuntu
date: '2013-06-15T13:34:00.002+02:00'
author: fievelk
tags:
- overheating
- Ubuntu
- i8kmon
- Dell Inspiron 15r
- How To
- i8kutils
- fan
modified_time: '2014-02-26T10:25:43.260+01:00'
thumbnail: http://3.bp.blogspot.com/-lkeccqB0zPI/UbyZ5p34JYI/AAAAAAAAAL8/JGx782XkWig/s72-c/fan2.jpg
blogger_id: tag:blogger.com,1999:blog-8196940592943844696.post-7224038315330215010
blogger_orig_url: http://keenformatics.blogspot.com/2013/06/how-to-solve-dell-laptops-fan-issues-in.html
excerpt: "When I finally bought my new Dell Inspiron laptop, I decided to take a look at the brand new Windows 8 OEM installation which I (forcedly) paid for. About 20 seconds later, I was installing the latest Ubuntu distribution.  I didn't knew what I would have found, but I was happy as well. One of the main problems I faced has been that of the incredibly loud fan noise which came from my new laptop, so I began my online quest until I found <b>i8kutils</b>, a (partial) solution to my problem."
---

When I finally bought my new Dell Inspiron laptop, I decided to take a look at the brand new Windows 8 OEM installation which I (forcedly) paid for. About 20 seconds later, I was installing the latest Ubuntu distribution.  I didn't knew what I would have found, but I was happy as well.<br /><table cellpadding="0" cellspacing="0" class="tr-caption-container" style="float: right; margin-left: 1em; text-align: right;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-lkeccqB0zPI/UbyZ5p34JYI/AAAAAAAAAL8/JGx782XkWig/s1600/fan2.jpg" imageanchor="1" style="clear: right; margin-bottom: 1em; margin-left: auto; margin-right: auto;"><img alt="How to solve Dell laptops fan issues in Ubuntu" border="0" src="http://3.bp.blogspot.com/-lkeccqB0zPI/UbyZ5p34JYI/AAAAAAAAAL8/JGx782XkWig/s320/fan2.jpg" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><a href="http://sarabbit.openphoto.net/">Sarah Klockars-Clauser</a>  for <a href="http://18783.openphoto.net/">openphoto.net</a></td></tr></tbody></table><br /><br />One of the main problems I faced has been that of the incredibly loud fan noise which came from my new laptop, so I began my online quest until I found <span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><b>i8kutils</b></span>, a (partial) solution to my problem. I'm saying "partial" because we shouldn't confuse the cause and the effect: i8kutils won't solve your overheating issues, but it will help you to configure your fans in order to overwrite their exasperated and irritating default behaviour. But be warned: if your fans are running it's probably because they're trying to manage your overheating problems for you, so don't set i8kutils just to make your fans definitively shut up (unless you know what you're doing).<br /><br /><br /><h1>The steps!</h1>1) First of all, let's download and install i8kutils. Open your terminal and write: <br /><pre class="prettyprint" style="border: none">sudo apt-get install i8kutils<br /></pre>2) Now you've got to add i8k to your modules. Open the modules file:<br /><pre class="prettyprint" style="border: none">sudo gedit /etc/modules<br /></pre>and add the string "<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">i8k</span>" (without quotes) to the file. Save and exit.<br /><br />3) Create an i8k.conf file <br /><pre class="prettyprint" style="border: none">sudo vim /etc/modprobe.d/i8k.conf<br /></pre>and fill it with this code:<br /><pre class="prettyprint" style="border: none">options i8k force=1<br /></pre><br /><b>Note:</b> Some older guides will tell you to create a /modprobe.d/options file. The "options" file isn't used anymore on Ubuntu. What does matter is that you create a file with a .conf extension (the filename isn't important, but I decided to name it i8k.conf for clarity). So beware of older i8kmon configuration guides.<br /><br />4) Now restart your computer, or run this code to make i8k run:<br /><pre class="prettyprint" style="border: none">sudo modprobe i8k force=1<br /></pre>5) We will now create a i8kmon.conf file which will tell the i8kmon utility how to behave.<br /><pre class="prettyprint" style="border: none">sudo gedit /etc/i8kmon.conf<br /></pre>Paste the following code in it:  <br /><pre class="prettyprint linenums"># Run as daemon, override with --daemon option<br />set config(daemon)      0<br /><br /># Automatic fan control, override with --auto option<br />set config(auto)        1<br /><br /># Report status on stdout, override with --verbose option<br />set config(verbose) 1<br /><br /># Status check timeout (seconds), override with --timeout option<br />set config(timeout) 20<br /><br /># Temperature thresholds: {fan_speeds low_ac high_ac low_batt high_batt}<br />set config(0)   {{ "{{" }}-1 0}  -1  40  -1  40}<br />set config(1)   {{ "{{" }}-1 1}  30  60  30  60}<br />set config(2)   {{ "{{" }}-1 2}  53  128  53  128}<br /><br /># For computer with 2 fans, use a variant of this instead:<br /># Temperature thresholds: {fan_speeds low_ac high_ac low_batt high_batt}<br /># set config(0) {{ "{{" }}-1 0}  -1  52  -1  65}<br /># set config(1) {{ "{{" }}-1 1}  41  66  55  75}<br /># set config(2) {{ "{{" }}-1 1}  55  80  65  85}<br /># set config(3) {{ "{{" }}-1 2}  70 128  75 128}<br /><br /># end of file<br /></pre><br />This has been edited to match my Dell Inspiron 15r 5521 fan configuration (and I hope I did it well). If you want more informations take a look at the documentation on Ubuntu Manuals: <a href="http://manpages.ubuntu.com/manpages/gutsy/man1/i8kmon.1.html">http://manpages.ubuntu.com/manpages/gutsy/man1/i8kmon.1.html</a><br /><br />6) Now you should be able to run i8kmon from your terminal and see if (and how) it's working. Simply run:<br /><pre class="prettyprint" style="border: none">i8kmon<br /></pre><br /><b>Finished!</b><br /><br />But wait...what if you want i8kmon to automatically start at boot? I'll simply copy-paste what's been written in the official documentation:<br /><div style="text-align: justify;"><blockquote class="tr_bq"><span style="font-family: Verdana,sans-serif;">Under Debian GNU/Linux it is possible  to  start   the   daemon   automatically   by   creating   an /etc/default/i8kmon configfile containing the line "set config(daemon) 1". Note the the /etc/default/i8kmon configfile is not installed by the i8kutils  package  because  the program is designed to be run by normal users. If you want to use it as daemon you must create the config  file yourself.  In  this  case, the --nouserconfig option can sometimes also help by limiting it to sourcing /etc/i8kmon (and not ~/.i8kmon).</span></blockquote></div><b>Doubts:</b> I wonder why I don't have the <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">~/.i8kmon</span> file on my system, while the docs refer to it.<br />If you take a look in your <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">/usr/bin/i8k</span> you'll find that <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">~/.i8kmon</span> is considered as a user configuration, while<span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-family: inherit;"> </span>/etc/i8kmon.conf</span> (the file we edited before) is treated as a system configuration.<br />If something in your configuration goes wrong (e.g. if you can't make your temperature limits work) it would be worthwhile checking if you've got this <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">~/.i8kmon</span> file on your system and try to edit it, because it could be perfidiously overwriting your system configuration. If you discover something about it, please let me know. <br /><br />I hope this article has been useful to you. If so, please click here and there on social buttons to make it more visible. If not, I'm waiting for your constructive comments ;)
